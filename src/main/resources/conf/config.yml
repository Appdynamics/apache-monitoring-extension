# Apache particulars

servers:
   - displayName: "Local Apache"
     host: "localhost"
     port: 80
     username: ""
     password: ""
     useSSL: false
     proxyHost: ""
     proxyPort: ""
     proxyUsername: ""
     proxyPassword: ""
     #mod_status stats url path
     statsUrlPath: "/server-status?auto"
     #Only enable this if you have enabled mod_jk module enabled on apache server
     jkStatusPath: ""

     #If you have any custom URL's which return delimiter separated metrics define them here.
     customStats:
        #Metric group under which all the metrics are displayed
       - metricGroup: "MyCustomMetrics"
         #Metric path to get the metrics from
         metricPath: ""
         #Metric key value separator
         keyValueSeparator: ":"
         #Comma separated List of metrics which will be shown in the controller
         #keep this empty if you want to show all the metrics
         metricsToCollect: []
         #Add custom metrics with full path here to get delta for those metrics
         deltaMetrics: []


connection:
  socketTimeout: 5000
  connectTimeout: 2500
  sslCertCheckEnabled: false
  sslVerifyHostname: false

numberOfThreads: 5
encryptionKey: "welcome"

####
## type = AggregationType.TimeRollup.ClusterRollup
## AggregationType = AVG | SUM | OBS
## TimeRollup = AVG | SUM | CUR
## ClusterRollup = IND | COL
##
## https://docs.appdynamics.com/display/PRO42/Build+a+Monitoring+Extension+Using+Java
####

metrics:
   - serverMetrics:
         - name: "Uptime"
           path: "Availability|Server Uptime (sec)"
           type: "OBS.CUR.COL"
         - name: "CPULoad"
           path: "Resource Utilization|CPU|Load"
           type: "OBS.AVG.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "BusyWorkers"
           path: "Resource Utilization|Processes|Busy Workers"
           type: "OBS.AVG.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "IdleWorkers"
           path: "Resource Utilization|Processes|Idle Workers"
           type: "OBS.AVG.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "ConnsAsyncClosing"
           path: "Resource Utilization|ConnsAsyncClosing"
           type: "OBS.AVG.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "ConnsAsyncKeepAlive"
           path: "Resource Utilization|ConnsAsyncKeepAlive"
           type: "OBS.AVG.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "ConnsAsyncWriting"
           path: "Resource Utilization|ConnsAsyncWriting"
           type: "OBS.AVG.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "ConnsTotal"
           path: "Resource Utilization|Total Connections"
           type: "OBS.AVG.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "Total Accesses"
           path: "Activity|Total Accesses"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "Total kBytes"
           path: "Activity|Total Traffic"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "ReqPerSec"
           path: "Activity|Requests/min"
           multiplier: "60"
           type: "OBS.AVG.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "BytesPerSec"
           path: "Activity|Bytes/min"
           multiplier: "60"
           type: "OBS.AVG.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "BytesPerReq"
           path: "Activity|Bytes/req"
           type: "OBS.AVG.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"

         #Scoreboard metrics. Do not edit.
         #https://www.apache.org/server-status
         - name: "Waiting for Conn"
           path: "Activity|Type|Waiting for Conn"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "Starting Up"
           path: "Activity|Type|Starting Up"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "Reading Request"
           path: "Activity|Type|Reading Request"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "Sending Reply"
           path: "Activity|Type|Sending Reply"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "Keep Alive"
           path: "Activity|Type|Keep Alive"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "DNS Lookup"
           path: "Activity|Type|DNS Lookup"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "Closing Connection"
           path: "Activity|Type|Closing Connection"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "Logging"
           path: "Activity|Type|Logging"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "Gracefully Finishing"
           path: "Activity|Type|Gracefully Finishing"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "Cleaning Up"
           path: "Activity|Type|Cleaning Up"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
   - jkMetrics:
         - name: "connection_pool_timeout"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "ping_timeout"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "connect_timeout"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "prepost_timeout"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "reply_timeout"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "retries"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "connection_ping_interval"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "recovery_options"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "max_packet_size"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "activation"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "lbfactor"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "distance"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "lbmult"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "lbvalue"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "elected"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "sessions"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "errors"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "client_errors"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "reply_timeouts"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "transferred"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "read"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "busy"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "max_busy"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "connected"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "time_to_recover_min"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "time_to_recover_max"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "used"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "map_count"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"
         - name: "last_reset_ago"
           path: "JK Status"
           type: "OBS.CUR.COL"
           collectDelta: "true"
           deltaType: "OBS.CUR.COL"


#This will create this metric in all the tiers, under this path
#metricPrefix: Custom Metrics|WebServer|Apache|Status|

#This will create it in specific Tier/Component. Make sure to replace <COMPONENT_ID> with the appropriate one from your environment.
#To find the <COMPONENT_ID> in your environment, please follow the screenshot https://docs.appdynamics.com/display/PRO42/Build+a+Monitoring+Extension+Using+Java
metricPrefix: Server|Component:<COMPONENT_ID>|Custom Metrics|WebServer|Apache|Status|
